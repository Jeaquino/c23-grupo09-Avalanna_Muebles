<%- include("../partials/head.ejs") %>

  <body>
    <%- include("../partials/header.ejs") %>

      <main class="dashboard__main">
        <h1>LISTADO DE PRODUCTOS</h1>
        <div>
          <button><a href="/products/formCreate">Crear producto</a></button>
        </div>
        <select id="limit">
          <option value="5" selected>5</option>
          <option value="10">10</option>
          <option value="15">15</option>
        </select>
        <table class="dashboard__main__table">
          <thead class="dashboard__main__table__thead">
            <tr>
              <% propiedades.forEach(propiedad=> { %>
                <th>
                  <%= propiedad.toUpperCase() %>
                </th>
                <% }); %>
                  <th> ACCIONES </th>
            </tr>
          </thead>
          <tbody class="dashboard__main__table__tbody">
            <% products.forEach(obj=> { %>
              <tr class="dashboard__main__table__tbody__fila">
                <% propiedades.forEach(prop=> { %>
                  
                    <% if (prop=="image" ) { %>
                      <td> <img src="/img/<%= obj.image %>" alt="<%= obj.image %>"> </td>
                      <% } else { %>
                        <td>
                          <%= obj[prop]%>
                        </td>
                        <% } %>
                          <% }); %>

                            <td class="dashboard__main__table__tbody__buttons">
                              <a href="/products/detail/<%= obj.id %>"><i class="fa-solid fa-eye"></i></a>
                              <a href="/products/formEdit/<%= obj.id %>"><i class="fa-solid fa-pen-to-square"></i></a>
                              <form action="/products/delete/<%= obj.id %>?_method=DELETE" method="POST">
                                <button type="submit" class="eliminar"><i class="fa-solid fa-trash"></i>
                                </button>
                              </form>

                            </td>
              </tr>
              <%}); %>
          </tbody>
        </table>

        <nav aria-label="Page navigation example pd-2">
          <ul class="pagination">
            <li class="page-item"><a class="page-link" href="#">Previous</a></li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Next</a></li>
          </ul>
        </nav>

      </main>
      <%- include("../partials/footer.ejs") %>
      <script src="/js/dashboard.js"></script>
  </body>

  </html>